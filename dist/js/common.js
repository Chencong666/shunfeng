function getRandomNum(t,a){return parseInt(Math.random()*(a-t+1)+t)}function getYzm(){for(var t="",a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n=0;n<4;n++){t+=a[getRandomNum(0,a.length-1)]}return t}var checkReg={trim:function(t){return t.replace(/^\s+|\s+$/,"")},name:function(t){return/^[a-zA-Z][\w\-]{3,19}$/.test(t)},chinese:function(t){return/^[\u2E80-\u9FFF]+$/.test(t)},email:function(t){return/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(t)},idcard:function(t){return/^(\d{14}|\d{17})[\dXx]$/.test(t)},tel:function(t){return/^1[3-9]\d{9}$/.test(t)},birthday:function(t){return/^((((19|20)\d{2})-(0?[13-9]|1[012])-(0?[1-9]|[12]\d|30))|(((19|20)\d{2})-(0?[13578]|1[02])-31)|(((19|20)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|((((19|20)([13579][26]|[2468][048]|0[48]))|(2000))-0?2-29))$/.test(t)},psweasy:function(t){return/^[a-zA-Z]\w{5,17}$/.test(t)},pwwagain:function(t,a){return t===a}},Cookie={set:function(t,a,n){var s=t+"="+a;n.expires&&(s+=";expires="+n.expires.toUTCString()),n.path&&(s+=";path="+n.path),n.domain&&(s+=";domain="+n.domain),document.cookie=s},get:function(t){for(var a=document.cookie.split("; "),n=0;n<a.length;n++){var s=a[n].split("=");if(t==s[0])return s[1]}},remove:function(t){var a=new Date;a.setDate(a.getDate()-1),Cookie.set("key","",{expires:a,path:"/"})}};function setDb(t){return t<10?"0"+t:""+t}function setTime(t){return{secs:setDb(t%60),mins:setDb(Math.floor(t/60)%60),hours:setDb(Math.floor(t/60/60)%24),days:setDb(Math.floor(t/60/60/24))}}function setStr(t){var a={},n=t.split("&");for(var s in n){var i=n[s].split("=");a[i[0]]=i[1]}return a}function add(t){$.ajax({type:"post",url:t,data:{fn:"car"},success:function(t){var a=JSON.parse(t),n=0,s=0,i=0;1==a.code?a.list.map(function(t){n+=1*t.num,s=t.num*t.price,i+=s}):i=s=n=0,i=i.toFixed(2),$("#heji").html("购物车共计"+n+"件商品，合计"+i+"元"),$("#carNum").html(n),$("#numss").html(n)}})}function tuij(){$.ajax({type:"post",url:"../api/log.php",data:{fn:"list",tableName:"list",page:1,pty:5},success:function(t){var a=JSON.parse(t).list.map(function(t){return'<li data-id="'+t.id+'">\n\t\t\t\t\t\t<img src="../'+t.imgurl+'" alt="">\n\t\t\t\t\t\t<span>￥<strong class="ge">'+t.price+'</strong></span>\n\t\t\t\t\t\t<p class="g_shuo">'+t.name+"</p>\n\t\t\t\t\t</li>"});$(".accs").html(a),$(".accs img").click(function(){var t=$(this).parent().data("id");location.href="./goods.html?id="+t}),$(".g_shuo").click(function(){var t=$(this).parent().data("id");location.href="./goods.html?id="+t})}})}function carts(l,o,d){$(".C_car").hover(function(){$(".car_list").css("display","block"),$.ajax({type:"post",url:l,data:{fn:"car"},success:function(t){var a=JSON.parse(t);if(1==a.code){$(".car_goods").css("display","none"),$(".car_form2").css("display","block");var n=0,s=0,i=0;a.list.map(function(t){n+=1*t.num,s=t.num*t.price,i+=s});var c=a.list.map(function(t){return' <li data-id="'+t.id+'">\n\t\t\t\t\t\t\t\t\t<div class="E_img ">\n\t\t\t\t\t\t\t\t\t\t<img src="'+d+t.imgurl+'" alt="">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="c">\n\t\t\t\t\t\t\t\t\t\t<a href="javascript:;" class="ctex">'+t.name+'</a>\n\t\t\t\t\t\t\t\t\t\t<b>3kg</b>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="r">\n\t\t\t\t\t\t\t\t\t\t<span class="re">¥'+t.price+'</span>\n\t\t\t\t\t\t\t\t\t\t<span class="rNum">x'+t.num+'</span>\n\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t<a href="javascript:;" class="cDel">删除</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>'}),e='<p>共有 <span class="jianshu">'+n+'</span> 件商品</p>\n\t\t\t\t\t\t\t\t<p>总重 <span class="kg">3.00 </span>kg（含包装）</p>',r='<p>共计：<span class="caZ">¥'+i+'</span></p>\n\t\t\t\t\t\t\t\t<a href="'+d+'html/car.html">去购物车结算</a>\n\t\t\t\t\t\t\t\t';$(".E_add").html(c),$(".title2").html(e),$(".title3").html(r),$(".cDel").click(function(){var t=$(this).parent().parent().data("id");$.ajax({type:"post",url:l,data:{fn:"del",id:t},success:function(t){$(".E_add").html(c)}}),add(l)}),$(".E_img").click(function(){var t=$(this).parent().data("id");location.href=o+"?id="+t}),$(".c a").click(function(){var t=$(this).parent().parent().data("id");location.href=o+"?id="+t})}else $(".car_goods").css("display","block"),$(".car_form2").css("display","none")}})},function(){$(".car_list").css("display","none"),add(l)})}function cat(l,o,d){$(".wa").hover(function(){$(".cards").css("display","block"),$.ajax({type:"post",url:l,data:{fn:"car"},success:function(t){var a=JSON.parse(t);if(1==a.code){$(".car_go").css("display","none"),$(".cssk2").css("display","block");var n=0,s=0,i=0;a.list.map(function(t){n+=1*t.num,s=t.num*t.price,i+=s}),i=i.toFixed(2);var c=a.list.map(function(t){return' <li data-id="'+t.id+'">\n\t\t\t\t\t\t\t\t\t<div class="cc_img">\n\t\t\t\t\t\t\t\t\t\t<img src="'+d+t.imgurl+'" alt="">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="c1">\n\t\t\t\t\t\t\t\t\t\t<a href="javascript:;" class="ctex1">'+t.name+'</a>\n\t\t\t\t\t\t\t\t\t\t<b>3kg</b>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="r1">\n\t\t\t\t\t\t\t\t\t\t<span class="re1">¥'+t.price+'</span>\n\t\t\t\t\t\t\t\t\t\t<span class="rNum1">x'+t.num+'</span>\n\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t<a href="javascript:;" class="cDel1">删除</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>'}),e='<p>共有 <span class="jianshu">'+n+'</span> 件商品</p>\n\t\t\t\t\t\t\t\t<p>总重 <span class="kg">3.00 </span>kg（含包装）</p>',r='<p>共计：<span class="caZ">¥'+i+'</span></p>\n\t\t\t\t\t\t\t\t<a href="'+d+'html/car.html">去购物车结算</a>\n\t\t\t\t\t\t\t\t';$(".cc_add").html(c),$(".ti2").html(e),$(".ti3").html(r),$(".cDel1").click(function(){var t=$(this).parent().parent().data("id");$.ajax({type:"post",url:l,data:{fn:"del",id:t},success:function(t){$(".cc_add").html(c),add(l)}})}),$(".cc_img").click(function(){var t=$(this).parent().data("id");location.href=o+"?id="+t}),$(".c1 a").click(function(){var t=$(this).parent().parent().data("id");location.href=o+"?id="+t})}else $(".car_go").css("display","block"),$(".cssk2").css("display","none")}})},function(){$(".cards").css("display","none"),add(l)})}function cook(t){var a=Cookie.get("name");a?($(".login").html(a+'，欢迎您！<a href="javascript:;" class="quit">[退出]</a>'),$(".quit").click(function(){$.ajax({type:"post",url:t,data:{fn:"select",a:"quit"},success:function(t){$(".login").html('嘿，欢迎来顺丰优选！\n\t\t\t\t\t<a href="./html/login.html">请登录</a>\n\t\t\t\t\t|\n\t\t\t\t\t<a href="./html/reg.html">免费注册</a>\n\t\t\t\t\t<div class="reg">\n\t\t\t\t\t\t<div class="jt"></div>\n\t\t\t\t\t\t<span>新会员注册送100元优惠券大礼包</span>\n\t\t\t\t\t</div>')}})})):$(".login").html('嘿，欢迎来顺丰优选！\n\t\t\t\t\t<a href="./html/login.html">请登录</a>\n\t\t\t\t\t|\n\t\t\t\t\t<a href="./html/reg.html">免费注册</a>\n\t\t\t\t\t<div class="reg">\n\t\t\t\t\t\t<div class="jt"></div>\n\t\t\t\t\t\t<span>新会员注册送100元优惠券大礼包</span>\n\t\t\t\t\t</div>')}